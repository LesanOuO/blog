<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>STEP、IGES、STL等3D模型转换为GLB | Lesan's Blog</title><meta name=keywords content="3D"><meta name=description content="在用threejs渲染3D模型时，往往需要选择一个最适合的模型格式，通常都是使用GLB作为Web渲染模型。然而许多工业的模型往往都是以STEP或者IGES作为导出格式，这种格式对于目前主流的3D渲染库支持并不好，所以需要转换模型格式。本篇文章为个人通过查找总结的转换方法，虽然并不是最优解🙃。"><meta name=author content="Lesan"><link rel=canonical href=https://lesanouo.github.io/blog/posts/operation/stepigesstl%E7%AD%893d%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAglb/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://lesanouo.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lesanouo.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://lesanouo.github.io/blog/favicon.ico><link rel=apple-touch-icon href=https://lesanouo.github.io/blog/favicon.ico><link rel=mask-icon href=https://lesanouo.github.io/blog/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://lesanouo.github.io/blog/posts/operation/stepigesstl%E7%AD%893d%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAglb/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://lesanouo.github.io/blog/posts/operation/stepigesstl%E7%AD%893d%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAglb/"><meta property="og:site_name" content="Lesan's Blog"><meta property="og:title" content="STEP、IGES、STL等3D模型转换为GLB"><meta property="og:description" content="在用threejs渲染3D模型时，往往需要选择一个最适合的模型格式，通常都是使用GLB作为Web渲染模型。然而许多工业的模型往往都是以STEP或者IGES作为导出格式，这种格式对于目前主流的3D渲染库支持并不好，所以需要转换模型格式。本篇文章为个人通过查找总结的转换方法，虽然并不是最优解🙃。"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-26T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-26T00:00:00+00:00"><meta property="article:tag" content="3D"><meta name=twitter:card content="summary"><meta name=twitter:title content="STEP、IGES、STL等3D模型转换为GLB"><meta name=twitter:description content="在用threejs渲染3D模型时，往往需要选择一个最适合的模型格式，通常都是使用GLB作为Web渲染模型。然而许多工业的模型往往都是以STEP或者IGES作为导出格式，这种格式对于目前主流的3D渲染库支持并不好，所以需要转换模型格式。本篇文章为个人通过查找总结的转换方法，虽然并不是最优解🙃。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚 博客","item":"https://lesanouo.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"STEP、IGES、STL等3D模型转换为GLB","item":"https://lesanouo.github.io/blog/posts/operation/stepigesstl%E7%AD%893d%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAglb/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"STEP、IGES、STL等3D模型转换为GLB","name":"STEP、IGES、STL等3D模型转换为GLB","description":"在用threejs渲染3D模型时，往往需要选择一个最适合的模型格式，通常都是使用GLB作为Web渲染模型。然而许多工业的模型往往都是以STEP或者IGES作为导出格式，这种格式对于目前主流的3D渲染库支持并不好，所以需要转换模型格式。本篇文章为个人通过查找总结的转换方法，虽然并不是最优解🙃。\n","keywords":["3D"],"articleBody":"在用threejs渲染3D模型时，往往需要选择一个最适合的模型格式，通常都是使用GLB作为Web渲染模型。然而许多工业的模型往往都是以STEP或者IGES作为导出格式，这种格式对于目前主流的3D渲染库支持并不好，所以需要转换模型格式。本篇文章为个人通过查找总结的转换方法，虽然并不是最优解🙃。\n各种3D模型格式 STEP \u0026 IGES 简单来说，这两种格式都是CAD的一种文件标准，在工业上使用比较广泛，STEP比IGES出现得更晚一些，由于IGES格式的最新版本是96年发布的，现在多由更高效的STEP等新格式替代，不支持材质。 IGES 可以安装 iges viewer 免费工具查看。\n但是，现行主流的web3d库，比如 three.js、Babylon 均不支持 STEP 和 IGES 模型，需要解决这个问题有两个思路：\n深入了解格式含义，编写代码给对应库提交对应的解析方案（想法很好，但是实践不易） 将格式转换为适合web展示的格式，比如称为3d界JPG的 GLTF 格式（本文就是讲这个的） STL STL格式更多出现在3D打印中，只能用来表示封闭的体或者面，且文件内部都用三角形表示，所以转换精度比较粗的话，看起来效果比较诡异，包括 Ascii 编码和二进制两种编码模式，一般采用二进制，因为体积相对较小，并且与STEP和IGES一样不支持材质 比如同一个模型（STEP大小：4.81M），转换精度不同可能就是如下两种效果 粗精度（Ascii编码：3.7M）；细精度（Ascii编码：63.3M，二进制编码：12.1M）\nGLTF 简单来说，就是最小化的把模型资源整理起来，称为3d模型界的JPG，支持材质贴图等，在各个Web3D库中得到了广泛支持，具体怎么加载这里就不赘述了，网上demo很多\nGithub上的格式介绍和相关技术汇总: https://github.com/mrdoob/three.js/pull/14308\nGLTF的详细介绍中文资料: https://zhuanlan.zhihu.com/p/65265611\n格式转换 整体思路如下：\n使用 pythonocc 将 STEP/IGES/Ascii的STL文件 统一转换为二进制模式的 STL， 再使用 stl2gltf 将STL转换转换为 gltf 格式， 最后使用 gltf-pipeline 将glb文件压缩输出即可 环境安装 pythonocc环境\nPythonocc是python的CAD，安装和使用都很方便\n下载并安装AnaConda：https://www.anaconda.com/distribution/#download-section 创建pythonocc 环境：conda create -n pythonocct -c dlr-sc -c pythonocc pythonocc-core=7.4.0rc1 gltf-pipeline环境\n下载并安装nodejs：https://nodejs.org/zh-cn/ 安装gltf-pipeline：npm install -g gltf-pipeline 实现转换（方法1） pythonocc读取转换STP/IGS/STL 在 Anaconda Prompt 中执行进入环境命令 activate pythonocct\nSTP转换为 STL 文件（StpConverter.py） import os from OCC.Extend.DataExchange import read_iges_file,read_step_file,write_stl_file input_file = 'temp2.stp' output_file = 'out.stl' if not os.path.exists(input_file): print('Input file need exists') exit() shapes=read_step_file(input_file) write_stl_file(shapes, output_file, 'binary', 0.03, 0.5) IGES转换为 STL 文件（IgsConverter.py） import os from OCC.Extend.DataExchange import read_iges_file,read_step_file,write_stl_file input_file = 'temp2.stp' output_file = 'out.stl' if not os.path.exists(input_file): print('Input file need exists') exit() shapes=read_step_file(input_file) write_stl_file(shapes, output_file, 'binary', 0.03, 0.5) stl2gltf（将STL转换为GLTF） 将二进制模式的 STL 文件转换为 GLTF 文件，支持浏览器本地转换、Python脚本以及C++源码\nstl2gltf.py 执行转换命令python stl2gltf.py out.stl out.glb -b 实现转换（方法2） 使用在线转换网址得到GLB文件(3D模型在线转换)\nGLB文件压缩 直接转换出来的 glb 文件可能比较大，对于WEB来说还是太大了，需使用 gltf-pipeline 进行文件压缩\n执行压缩命令gltf-pipeline -i out.glb -o out.glb -b -d glb/gltf格式模型文件压缩–gltf-pipeline相关参数说明 本文参考自：https://www.codeleading.com/article/26425971329/\n","wordCount":"1454","inLanguage":"zh-cn","datePublished":"2022-11-26T00:00:00Z","dateModified":"2022-11-26T00:00:00Z","author":{"@type":"Person","name":"Lesan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lesanouo.github.io/blog/posts/operation/stepigesstl%E7%AD%893d%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAglb/"},"publisher":{"@type":"Organization","name":"Lesan's Blog","logo":{"@type":"ImageObject","url":"https://lesanouo.github.io/blog/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lesanouo.github.io/blog/ accesskey=h title="Lesan's Blog (Alt + H)">Lesan's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lesanouo.github.io/blog/archives title="📚 归档"><span>📚 归档</span></a></li><li><a href=https://lesanouo.github.io/blog/categories/ title="🗃️ 分类"><span>🗃️ 分类</span></a></li><li><a href=https://lesanouo.github.io/blog/tags/ title="🏷️ 标签"><span>🏷️ 标签</span></a></li><li><a href=https://lesanouo.github.io/blog/search/ title="🔎 搜索"><span>🔎 搜索</span></a></li><li><a href=https://lesanouo.github.io/blog/about/ title="👨‍💻 关于我"><span>👨‍💻 关于我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lesanouo.github.io/blog/>Home</a>&nbsp;»&nbsp;<a href=https://lesanouo.github.io/blog/posts/>📚 博客</a></div><h1 class="post-title entry-hint-parent">STEP、IGES、STL等3D模型转换为GLB</h1><div class=post-meta><span title='2022-11-26 00:00:00 +0000 UTC'>2022-11-26</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Lesan</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%90%84%e7%a7%8d3d%e6%a8%a1%e5%9e%8b%e6%a0%bc%e5%bc%8f aria-label=各种3D模型格式>各种3D模型格式</a><ul><li><a href=#step--iges aria-label="STEP & IGES">STEP & IGES</a></li><li><a href=#stl aria-label=STL>STL</a></li><li><a href=#gltf aria-label=GLTF>GLTF</a></li></ul></li><li><a href=#%e6%a0%bc%e5%bc%8f%e8%bd%ac%e6%8d%a2 aria-label=格式转换>格式转换</a><ul><li><a href=#%e7%8e%af%e5%a2%83%e5%ae%89%e8%a3%85 aria-label=环境安装>环境安装</a></li><li><a href=#%e5%ae%9e%e7%8e%b0%e8%bd%ac%e6%8d%a2%e6%96%b9%e6%b3%951 aria-label=实现转换（方法1）>实现转换（方法1）</a></li><li><a href=#%e5%ae%9e%e7%8e%b0%e8%bd%ac%e6%8d%a2%e6%96%b9%e6%b3%952 aria-label=实现转换（方法2）>实现转换（方法2）</a></li><li><a href=#glb%e6%96%87%e4%bb%b6%e5%8e%8b%e7%bc%a9 aria-label=GLB文件压缩>GLB文件压缩</a></li></ul></li></ul></div></details></div><div class=post-content><p>在用threejs渲染3D模型时，往往需要选择一个最适合的模型格式，通常都是使用GLB作为Web渲染模型。然而许多工业的模型往往都是以STEP或者IGES作为导出格式，这种格式对于目前主流的3D渲染库支持并不好，所以需要转换模型格式。本篇文章为个人通过查找总结的转换方法，虽然并不是最优解🙃。</p><h2 id=各种3d模型格式>各种3D模型格式<a hidden class=anchor aria-hidden=true href=#各种3d模型格式>#</a></h2><h3 id=step--iges>STEP & IGES<a hidden class=anchor aria-hidden=true href=#step--iges>#</a></h3><p>简单来说，这两种格式都是CAD的一种文件标准，在工业上使用比较广泛，STEP比IGES出现得更晚一些，由于IGES格式的最新版本是96年发布的，现在多由更高效的STEP等新格式替代，不支持材质。
IGES 可以安装 <a href=https://igsviewer.com/download.aspx>iges viewer</a> 免费工具查看。</p><p>但是，现行主流的web3d库，比如 three.js、Babylon 均不支持 STEP 和 IGES 模型，需要解决这个问题有两个思路：</p><ul><li>深入了解格式含义，编写代码给对应库提交对应的解析方案（想法很好，但是实践不易）</li><li>将格式转换为适合web展示的格式，比如称为3d界JPG的 GLTF 格式（本文就是讲这个的）</li></ul><h3 id=stl>STL<a hidden class=anchor aria-hidden=true href=#stl>#</a></h3><p>STL格式更多出现在3D打印中，只能用来表示封闭的体或者面，且文件内部都用三角形表示，所以转换精度比较粗的话，看起来效果比较诡异，包括 Ascii 编码和二进制两种编码模式，一般采用二进制，因为体积相对较小，并且与STEP和IGES一样不支持材质
比如同一个模型（STEP大小：4.81M），转换精度不同可能就是如下两种效果
粗精度（Ascii编码：3.7M）；细精度（Ascii编码：63.3M，二进制编码：12.1M）</p><h3 id=gltf>GLTF<a hidden class=anchor aria-hidden=true href=#gltf>#</a></h3><p>简单来说，就是最小化的把模型资源整理起来，称为3d模型界的JPG，支持材质贴图等，在各个Web3D库中得到了广泛支持，具体怎么加载这里就不赘述了，网上demo很多</p><p>Github上的格式介绍和相关技术汇总: <a href=https://github.com/mrdoob/three.js/pull/14308>https://github.com/mrdoob/three.js/pull/14308</a></p><p>GLTF的详细介绍中文资料: <a href=https://zhuanlan.zhihu.com/p/65265611>https://zhuanlan.zhihu.com/p/65265611</a></p><h2 id=格式转换>格式转换<a hidden class=anchor aria-hidden=true href=#格式转换>#</a></h2><p>整体思路如下：</p><ol><li>使用 pythonocc 将 STEP/IGES/Ascii的STL文件 统一转换为二进制模式的 STL，</li><li>再使用 stl2gltf 将STL转换转换为 gltf 格式，</li><li>最后使用 gltf-pipeline 将glb文件压缩输出即可</li></ol><h3 id=环境安装>环境安装<a hidden class=anchor aria-hidden=true href=#环境安装>#</a></h3><ul><li><p>pythonocc环境</p><p>Pythonocc是python的CAD，安装和使用都很方便</p><ul><li>下载并安装AnaConda：https://www.anaconda.com/distribution/#download-section</li><li>创建pythonocc 环境：<code>conda create -n pythonocct -c dlr-sc -c pythonocc pythonocc-core=7.4.0rc1</code></li></ul></li><li><p>gltf-pipeline环境</p><ul><li>下载并安装nodejs：https://nodejs.org/zh-cn/</li><li>安装gltf-pipeline：<code>npm install -g gltf-pipeline</code></li></ul></li></ul><h3 id=实现转换方法1>实现转换（方法1）<a hidden class=anchor aria-hidden=true href=#实现转换方法1>#</a></h3><ol><li>pythonocc读取转换STP/IGS/STL</li></ol><ul><li>在 Anaconda Prompt 中执行进入环境命令</li></ul><p><code>activate pythonocct</code></p><ul><li>STP转换为 STL 文件（StpConverter.py）</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>OCC.Extend.DataExchange</span> <span class=kn>import</span> <span class=n>read_iges_file</span><span class=p>,</span><span class=n>read_step_file</span><span class=p>,</span><span class=n>write_stl_file</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>input_file</span> <span class=o>=</span> <span class=s1>&#39;temp2.stp&#39;</span>
</span></span><span class=line><span class=cl><span class=n>output_file</span> <span class=o>=</span> <span class=s1>&#39;out.stl&#39;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>input_file</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Input file need exists&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>exit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>shapes</span><span class=o>=</span><span class=n>read_step_file</span><span class=p>(</span><span class=n>input_file</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>write_stl_file</span><span class=p>(</span><span class=n>shapes</span><span class=p>,</span> <span class=n>output_file</span><span class=p>,</span> <span class=s1>&#39;binary&#39;</span><span class=p>,</span> <span class=mf>0.03</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>IGES转换为 STL 文件（IgsConverter.py）</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>OCC.Extend.DataExchange</span> <span class=kn>import</span> <span class=n>read_iges_file</span><span class=p>,</span><span class=n>read_step_file</span><span class=p>,</span><span class=n>write_stl_file</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>input_file</span> <span class=o>=</span> <span class=s1>&#39;temp2.stp&#39;</span>
</span></span><span class=line><span class=cl><span class=n>output_file</span> <span class=o>=</span> <span class=s1>&#39;out.stl&#39;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>input_file</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Input file need exists&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>exit</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>shapes</span><span class=o>=</span><span class=n>read_step_file</span><span class=p>(</span><span class=n>input_file</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>write_stl_file</span><span class=p>(</span><span class=n>shapes</span><span class=p>,</span> <span class=n>output_file</span><span class=p>,</span> <span class=s1>&#39;binary&#39;</span><span class=p>,</span> <span class=mf>0.03</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span>
</span></span></code></pre></div><ol start=2><li>stl2gltf（将STL转换为GLTF）</li></ol><p>将二进制模式的 STL 文件转换为 GLTF 文件，支持浏览器本地转换、Python脚本以及C++源码</p><ul><li><a href=https://github.com/MyMiniFactory/stl2gltf/blob/c%2B%2B/stl2gltf.py>stl2gltf.py</a></li><li>执行转换命令<code>python stl2gltf.py out.stl out.glb -b</code></li></ul><h3 id=实现转换方法2>实现转换（方法2）<a hidden class=anchor aria-hidden=true href=#实现转换方法2>#</a></h3><p>使用在线转换网址得到GLB文件(<a href=http://www.3dwhere.com/conv>3D模型在线转换</a>)</p><h3 id=glb文件压缩>GLB文件压缩<a hidden class=anchor aria-hidden=true href=#glb文件压缩>#</a></h3><p>直接转换出来的 glb 文件可能比较大，对于WEB来说还是太大了，需使用 gltf-pipeline 进行文件压缩</p><ul><li>执行压缩命令<code>gltf-pipeline -i out.glb -o out.glb -b -d</code></li><li><a href=https://www.icode9.com/content-4-892291.html>glb/gltf格式模型文件压缩–gltf-pipeline相关参数说明</a></li></ul><blockquote><p>本文参考自：https://www.codeleading.com/article/26425971329/</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://lesanouo.github.io/blog/tags/3d/>3D</a></li></ul><nav class=paginav><a class=prev href=https://lesanouo.github.io/blog/posts/operation/sse%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8E%A8%E9%80%81/><span class=title>«</span><br><span>SSE实现服务器推送</span>
</a><a class=next href=https://lesanouo.github.io/blog/posts/knowledge/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E7%9A%84%E7%90%90%E4%BA%8B/><span class=title>»</span><br><span>多线程下的琐事</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://lesanouo.github.io/blog/>Lesan's Blog</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>