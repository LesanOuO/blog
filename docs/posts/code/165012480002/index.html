<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Javaä¸­Streamå­¦ä¹  | Lesan's Blog</title><meta name=keywords content="Java"><meta name=description content="æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®°
streamæ˜¯ä»€ä¹ˆ
æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®—"><meta name=author content="Lesan"><link rel=canonical href=https://lesanouo.github.io/blog/posts/code/165012480002/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://lesanouo.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lesanouo.github.io/blog/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://lesanouo.github.io/blog/favicon.ico><link rel=apple-touch-icon href=https://lesanouo.github.io/blog/favicon.ico><link rel=mask-icon href=https://lesanouo.github.io/blog/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://lesanouo.github.io/blog/posts/code/165012480002/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://lesanouo.github.io/blog/posts/code/165012480002/"><meta property="og:site_name" content="Lesan's Blog"><meta property="og:title" content="Javaä¸­Streamå­¦ä¹ "><meta property="og:description" content="æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®°
streamæ˜¯ä»€ä¹ˆ æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®—"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-17T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-17T00:00:00+00:00"><meta property="article:tag" content="Java"><meta name=twitter:card content="summary"><meta name=twitter:title content="Javaä¸­Streamå­¦ä¹ "><meta name=twitter:description content="æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®°
streamæ˜¯ä»€ä¹ˆ
æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®—"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ“š åšå®¢","item":"https://lesanouo.github.io/blog/posts/"},{"@type":"ListItem","position":2,"name":"Javaä¸­Streamå­¦ä¹ ","item":"https://lesanouo.github.io/blog/posts/code/165012480002/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Javaä¸­Streamå­¦ä¹ ","name":"Javaä¸­Streamå­¦ä¹ ","description":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®°\nstreamæ˜¯ä»€ä¹ˆ æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®—\n","keywords":["Java"],"articleBody":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®°\nstreamæ˜¯ä»€ä¹ˆ æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®—\nç”Ÿæˆstreamçš„æ–¹æ³• ç”Ÿæˆæµçš„æ–¹å¼ä¸»è¦æœ‰äº”ç§\né€šè¿‡é›†åˆç”Ÿæˆï¼Œåº”ç”¨ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5, 6); Stream\u003cInteger\u003e stream = integerList.stream(); é€šè¿‡æ•°ç»„ç”Ÿæˆ int[] intArr = {1, 2, 3, 4, 5, 6}; IntStream stream = Arrays.stream(intArr); é€šè¿‡Arrays.streamæ–¹æ³•ç”Ÿæˆæµï¼Œå¹¶ä¸”è¯¥æ–¹æ³•ç”Ÿæˆçš„æµæ˜¯æ•°å€¼æµã€å³IntStreamã€‘è€Œä¸æ˜¯ Streamã€‚è¡¥å……ä¸€ç‚¹ä½¿ç”¨æ•°å€¼æµå¯ä»¥é¿å…è®¡ç®—è¿‡ç¨‹ä¸­æ‹†ç®±è£…ç®±ï¼Œæé«˜æ€§èƒ½ã€‚Stream APIæä¾›äº†mapToIntã€mapToDoubleã€mapToLongä¸‰ç§æ–¹å¼å°†å¯¹è±¡æµã€å³Stream ã€‘è½¬æ¢æˆå¯¹åº”çš„æ•°å€¼æµï¼ŒåŒæ—¶æä¾›äº†boxedæ–¹æ³•å°†æ•°å€¼æµè½¬æ¢ä¸ºå¯¹è±¡æµ\né€šè¿‡å€¼ç”Ÿæˆ // é€šè¿‡Streamçš„ofæ–¹æ³•ç”Ÿæˆæµï¼Œé€šè¿‡Streamçš„emptyæ–¹æ³•å¯ä»¥ç”Ÿæˆä¸€ä¸ªç©ºæµ Stream\u003cInteger\u003e stream = Stream.of(1, 2, 3, 4, 5, 6); é€šè¿‡æ–‡ä»¶ç”Ÿæˆ // é€šè¿‡Files.lineæ–¹æ³•å¾—åˆ°ä¸€ä¸ªæµï¼Œå¹¶ä¸”å¾—åˆ°çš„æ¯ä¸ªæµæ˜¯ç»™å®šæ–‡ä»¶ä¸­çš„ä¸€è¡Œ Stream\u003cString\u003e lines = Files.lines(Paths.get(\"data.txt\"), Charset.defaultCharset()); é€šè¿‡å‡½æ•°ç”Ÿæˆ // 1.iterator // terateæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºåˆå§‹åŒ–å€¼ï¼Œç¬¬äºŒä¸ªä¸ºè¿›è¡Œçš„å‡½æ•°æ“ä½œï¼Œå› ä¸ºiteratorç”Ÿæˆçš„æµä¸ºæ— é™æµï¼Œé€šè¿‡limitæ–¹æ³•å¯¹æµè¿›è¡Œäº†æˆªæ–­ï¼Œåªç”Ÿæˆ5ä¸ªå¶æ•° Stream\u003cInteger\u003e stream = Stream.iterate(0, n -\u003e n + 2).limit(5); // 2.generator // generateæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ–¹æ³•å‚æ•°ç±»å‹ä¸ºSupplier ï¼Œç”±å®ƒä¸ºæµæä¾›å€¼ã€‚generateç”Ÿæˆçš„æµä¹Ÿæ˜¯æ— é™æµï¼Œå› æ­¤é€šè¿‡limitå¯¹æµè¿›è¡Œäº†æˆªæ–­ Stream\u003cDouble\u003e stream = Stream.generate(Math::random).limit(5); streamçš„æ“ä½œç±»å‹ ä¸­é—´æ“ä½œ ä¸€ä¸ªæµå¯ä»¥åé¢è·Ÿéšé›¶ä¸ªæˆ–å¤šä¸ªä¸­é—´æ“ä½œã€‚å…¶ç›®çš„ä¸»è¦æ˜¯æ‰“å¼€æµï¼Œåšå‡ºæŸç§ç¨‹åº¦çš„æ•°æ®æ˜ å°„/è¿‡æ»¤ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æµï¼Œäº¤ç»™ä¸‹ä¸€ä¸ªæ“ä½œä½¿ç”¨ã€‚è¿™ç±»æ“ä½œéƒ½æ˜¯æƒ°æ€§åŒ–çš„ï¼Œä»…ä»…è°ƒç”¨åˆ°è¿™ç±»æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰çœŸæ­£å¼€å§‹æµçš„éå†ï¼ŒçœŸæ­£çš„éå†éœ€ç­‰åˆ°ç»ˆç«¯æ“ä½œæ—¶ï¼Œå¸¸è§çš„ä¸­é—´æ“ä½œæœ‰ä¸‹é¢å³å°†ä»‹ç»çš„ filterã€map ç­‰ã€‚\nç»ˆç«¯æ“ä½œ ä¸€ä¸ªæµæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå½“è¿™ä¸ªæ“ä½œæ‰§è¡Œåï¼Œæµå°±è¢«å…³é—­äº†ï¼Œæ— æ³•å†è¢«æ“ä½œï¼Œå› æ­¤ä¸€ä¸ªæµåªèƒ½è¢«éå†ä¸€æ¬¡ï¼Œè‹¥æƒ³åœ¨éå†éœ€è¦é€šè¿‡æºæ•°æ®åœ¨ç”Ÿæˆæµã€‚ç»ˆç«¯æ“ä½œçš„æ‰§è¡Œï¼Œæ‰ä¼šçœŸæ­£å¼€å§‹æµçš„éå†ã€‚å¦‚ä¸‹é¢å³å°†ä»‹ç»çš„ countã€collect ç­‰ã€‚\nstreamçš„ä½¿ç”¨ ä¸­é—´æ“ä½œ filter ç­›é€‰ // é€šè¿‡ä½¿ç”¨filteræ–¹æ³•è¿›è¡Œæ¡ä»¶ç­›é€‰ï¼Œfilterçš„æ–¹æ³•å‚æ•°ä¸ºä¸€ä¸ªæ¡ä»¶ï¼ˆè¿‡æ»¤ä¿ç•™å‡½æ•°è¿”å›å€¼ä¸º true çš„å…ƒç´ ï¼‰ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5, 6); Stream\u003cInteger\u003e stream = integerList.stream().filter(i -\u003e i \u003e 3); // ç»“æœä¸ºï¼š4,5,6 distinct å»é‡ // é€šè¿‡distinctæ–¹æ³•å¿«é€Ÿå»é™¤é‡å¤çš„å…ƒç´  List\u003cInteger\u003e integerList = Arrays.asList(1, 1, 2, 3, 4, 5); Stream\u003cInteger\u003e stream = integerList.stream().distinct(); // ç»“æœä¸ºï¼š1,2,3,4,5 limit è¿”å›æŒ‡å®šæµä¸ªæ•° // é€šè¿‡limitæ–¹æ³•æŒ‡å®šè¿”å›æµçš„ä¸ªæ•°ï¼Œlimitçš„å‚æ•°å€¼å¿…é¡» \u003e=0ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ List\u003cInteger\u003e integerList = Arrays.asList(1, 1, 2, 3, 4, 5); Stream\u003cInteger\u003e stream = integerList.stream().limit(3); ç»“æœä¸ºï¼š 1,1,2 skip è·³è¿‡æµä¸­çš„å…ƒç´  // é€šè¿‡skipæ–¹æ³•è·³è¿‡æµä¸­çš„å…ƒç´ ï¼Œskipçš„å‚æ•°å€¼å¿…é¡»\u003e=0ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºå¼‚å¸¸ List\u003cInteger\u003e integerList = Arrays.asList(1, 1, 2, 3, 4, 5); Stream\u003cInteger\u003e stream = integerList.stream().skip(2); // ç»“æœä¸ºï¼š 2,3,4,5 map æµæ˜ å°„ // æ‰€è°“æµæ˜ å°„å°±æ˜¯å°†æ¥å—çš„å…ƒç´ æ˜ å°„æˆå¦å¤–ä¸€ä¸ªå…ƒç´  List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); List\u003cInteger\u003e collect = stringList.stream() .map(String::length) .collect(Collectors.toList()); // é€šè¿‡mapæ–¹æ³•å¯ä»¥å®Œæˆæ˜ å°„ï¼Œè¯¥ä¾‹å­å®Œæˆä¸­ String -\u003e Integer çš„æ˜ å°„ // ç»“æœä¸ºï¼š[6, 7, 2, 6] flatMap æµè½¬æ¢ // å°†ä¸€ä¸ªæµä¸­çš„æ¯ä¸ªå€¼éƒ½è½¬æ¢ä¸ºå¦ä¸€ä¸ªæµ List\u003cString\u003e wordList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); List\u003cString\u003e strList = wordList.stream() .map(w -\u003e w.split(\" \")) .flatMap(Arrays::stream) .distinct() .collect(Collectors.toList()); // map(w -\u003e w.split(\" \")) çš„è¿”å›å€¼ä¸º Streamï¼Œæƒ³è·å– Streamï¼Œå¯ä»¥é€šè¿‡flatMapæ–¹æ³•å®Œæˆ Stream -\u003eStream çš„è½¬æ¢ // ç»“æœä¸ºï¼š[Java, 8, Lambdas, In, Action] allMatch åŒ¹é…æ‰€æœ‰å…ƒç´  // åŒ¹é…æµä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); if (integerList.stream().allMatch(i -\u003e i \u003e 3)) { System.out.println(\"æ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3\"); } else { System.out.println(\"å¹¶éæ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3\"); } // ç»“æœä¸ºï¼šå¹¶éæ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3 anyMatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª // åŒ¹é…æµä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´  List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); if (integerList.stream().anyMatch(i -\u003e i \u003e 3)) { System.out.println(\"å­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ \"); } else { System.out.println(\"ä¸å­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ \"); } // ç»“æœä¸ºï¼šå­˜åœ¨å€¼å¤§äº3çš„å…ƒç´  // ä¸Šè¿°ä»£ç ç­‰åŒäºï¼š for (Integer i : integerList) { if (i \u003e 3) { System.out.println(\"å­˜åœ¨å¤§äº3çš„å€¼\"); break; } } noneMatchå…¨éƒ¨ä¸åŒ¹é… List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); if (integerList.stream().noneMatch(i -\u003e i \u003e 3)) { System.out.println(\"å€¼éƒ½å°äº3çš„å…ƒç´ \"); } else { System.out.println(\"å€¼ä¸éƒ½å°äº3çš„å…ƒç´ \"); } ç»ˆç«¯æ“ä½œ count ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•° List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Long result = integerList.stream().count(); // ç»“æœä¸ºï¼š5 findFirst æŸ¥æ‰¾ç¬¬ä¸€ä¸ª List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Optional\u003cInteger\u003e result = integerList.stream().filter(i -\u003e i \u003e 3).findFirst(); System.out.println(result.orElse(-1)); // ç»“æœä¸ºï¼š4 findAny éšæœºæŸ¥æ‰¾ä¸€ä¸ª List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Optional\u003cInteger\u003e result = integerList.stream().filter(i -\u003e i \u003e 3).findAny(); System.out.println(result.orElse(-1)); // ç»“æœä¸ºï¼š4 // é€šè¿‡findAnyæ–¹æ³•æŸ¥æ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªå¤§äºä¸‰çš„å…ƒç´ å¹¶æ‰“å°ï¼Œå› ä¸ºå†…éƒ¨è¿›è¡Œä¼˜åŒ–çš„åŸå› ï¼Œå½“æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³å¤§äºä¸‰çš„å…ƒç´ æ—¶å°±ç»“æŸï¼Œè¯¥æ–¹æ³•ç»“æœå’ŒfindFirstæ–¹æ³•ç»“æœä¸€æ ·ã€‚æä¾›findAnyæ–¹æ³•æ˜¯ä¸ºäº†æ›´å¥½çš„åˆ©ç”¨å¹¶è¡Œæµï¼ŒfindFirstæ–¹æ³•åœ¨å¹¶è¡Œä¸Šé™åˆ¶æ›´å¤šã€æœ¬ç¯‡æ–‡ç« å°†ä¸ä»‹ç»å¹¶è¡Œæµã€‘ reduce å°†æµä¸­çš„å…ƒç´ ç»„åˆ ç”¨äºæ±‚å’Œ List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); int sum = integerList.stream() .reduce(0, Integer::sum); // ç»“æœä¸ºï¼š15 // reduceæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªåˆå§‹å€¼è¿™é‡Œæ˜¯0ï¼Œä¸€ä¸ª BinaryOperatoraccumulator æ¥å°†ä¸¤ä¸ªå…ƒç´ ç»“åˆèµ·æ¥äº§ç”Ÿä¸€ä¸ªæ–°å€¼ï¼Œå¦å¤–reduceæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªæ²¡æœ‰åˆå§‹åŒ–å€¼çš„é‡è½½æ–¹æ³• ç”¨äºå–å¾—æœ€å¤§å’Œæœ€å°å€¼ List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Optional\u003cInteger\u003e min = stringList.stream() .map(String::length) .reduce(Integer::min); Optional\u003cInteger\u003e max = stringList.stream() .map(String::length) .reduce(Integer::max); // ç»“æœä¸ºï¼šOptional[2] å’Œ Optional[7] min/max è·å–æœ€å°æœ€å¤§å€¼ // å†™æ³•1 List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Optional\u003cInteger\u003e min = stringList.stream() .map(String::length) .min(Integer::compareTo); Optional\u003cInteger\u003e max = stringList.stream() .map(String::length) .max(Integer::compareTo); // å†™æ³•2 List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); OptionalInt min = stringList.stream() .mapToInt(String::length) .min(); OptionalInt max = stringList.stream() .mapToInt(String::length) .max(); // ä½¿ç”¨reduce List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Optional\u003cInteger\u003e min = stringList.stream() .map(String::length) .reduce(Integer::min); Optional\u003cInteger\u003e max = stringList.stream() .map(String::length) .reduce(Integer::max); sum / summingxxx / reduce æ±‚å’Œ // æ–¹å¼1ï¼šsum List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); int sum = stringList.stream() .mapToInt(String::length) .sum(); // æ–¹å¼2ï¼šsummingInt List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); // å¦‚æœæ•°æ®ç±»å‹ä¸ºdoubleã€longï¼Œåˆ™é€šè¿‡summingDoubleã€summingLongæ–¹æ³•è¿›è¡Œæ±‚å’Œ int sum = stringList.stream() .collect(summingInt(String::length)); // æ–¹å¼3ï¼šreduce List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); int sum = stringList.stream() .map(String::length) .reduce(0, Integer::sum); åœ¨ä¸Šé¢æ±‚å’Œã€æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼çš„æ—¶å€™ï¼Œå¯¹äºç›¸åŒæ“ä½œæœ‰ä¸åŒçš„æ–¹æ³•å¯ä»¥é€‰æ‹©æ‰§è¡Œã€‚å¯ä»¥é€‰æ‹©collectã€reduceã€min/max/sumæ–¹æ³•ï¼Œæ¨èä½¿ç”¨minã€maxã€sumæ–¹æ³•ã€‚å› ä¸ºå®ƒæœ€ç®€æ´æ˜“è¯»ï¼ŒåŒæ—¶é€šè¿‡mapToIntå°†å¯¹è±¡æµè½¬æ¢ä¸ºæ•°å€¼æµï¼Œé¿å…äº†è£…ç®±å’Œæ‹†ç®±æ“ä½œ\naveragingxxx æ±‚å¹³å‡å€¼ // averagingxxx List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); double average = stringList.stream() .collect(averagingInt(String::length)); summarizingxxx åŒæ—¶æ±‚æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ // å¦‚æœæ•°æ®ç±»å‹ä¸ºdoubleã€longï¼Œåˆ™é€šè¿‡summarizingDoubleã€summarizingLongæ–¹æ³• List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); IntSummaryStatistics intSummaryStatistics = stringList.stream() .collect(summarizingInt(String::length)); double average = intSummaryStatistics.getAverage(); // è·å–å¹³å‡å€¼ int min = intSummaryStatistics.getMin(); // è·å–æœ€å°å€¼ int max = intSummaryStatistics.getMax(); // è·å–æœ€å¤§å€¼ long sum = intSummaryStatistics.getSum(); // è·å–æ€»å’Œ foreach éå† List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); stringList.stream().forEach(System.out::println); collect è¿”å›é›†åˆ List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); List\u003cInteger\u003e intList = stringList.stream() .map(String::length) .collect(toList()); Set\u003cInteger\u003e intSet = stringList.stream() .map(String::length) .collect(toSet()); // ç­‰ä»· List\u003cInteger\u003e intList = new ArrayList\u003c\u003e(); Set\u003cInteger\u003e intSet = new HashSet\u003c\u003e(); for (String item : stringList) { intList.add(item.length()); intSet.add(item.length()); } é€šè¿‡éå†å’Œè¿”å›é›†åˆçš„ä½¿ç”¨å‘ç°æµåªæ˜¯æŠŠåŸæ¥çš„å¤–éƒ¨è¿­ä»£æ”¾åˆ°äº†å†…éƒ¨è¿›è¡Œï¼Œè¿™ä¹Ÿæ˜¯æµçš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€ã€‚å†…éƒ¨è¿­ä»£å¯ä»¥å‡å°‘å¥½å¤šä»£ç é‡\njoining æ‹¼æ¥æµä¸­çš„å…ƒç´  List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); String result = stringList.stream() .map(String::toLowerCase) .collect(Collectors.joining(\"-\")); // ç»“æœä¸ºï¼šjava 8-lambdas-in-action groupingBy åˆ†ç»„ // åœ¨collectæ–¹æ³•ä¸­ä¼ å…¥groupingByè¿›è¡Œåˆ†ç»„ï¼Œå…¶ä¸­groupingByçš„æ–¹æ³•å‚æ•°ä¸ºåˆ†ç±»å‡½æ•° List\u003cString\u003e stringList = Arrays.asList(\"Java 8\", \"Lambdas\", \"In\", \"Action\"); Map\u003cInteger, List\u003cString\u003e\u003e collect = stringList.stream().collect(groupingBy(String::length)); // ç»“æœä¸ºï¼š{2=[In], 6=[Java 8, Action], 7=[Lambdas]} åµŒå¥—groupingByè¿›è¡Œå¤šçº§åˆ†ç±»\nList\u003cString\u003e stringList = Arrays.asList(\"Java 12\", \"Lambdas\", \"In\", \"Action\"); Map\u003cInteger, Map\u003cInteger, List\u003cString\u003e\u003e\u003e collect = stringList.stream() .collect(groupingBy( String::length, groupingBy(String::hashCode) )); // ç»“æœä¸ºï¼š{2={2373=[In]}, 6={1955883606=[Action]}, 7={1611513196=[Lambdas], -155279169=[Java 12]}} List\u003cString\u003e stringList = Arrays.asList(\"Java 12\", \"Lambdas\", \"In\", \"Action\"); Map\u003cInteger, Map\u003cString, List\u003cString\u003e\u003e\u003e collect = stringList.stream() .collect(groupingBy( String::length, groupingBy(item -\u003e { if (item.length() \u003c= 2) { return \"level1\"; } else if (item.length() \u003c= 6) { return \"level2\"; } else { return \"level3\"; } }) )); // ç»“æœä¸ºï¼š{2={level1=[In]}, 6={level2=[Action]}, 7={level3=[Java 12, Lambdas]}} partitioningBy åˆ†åŒº åˆ†åŒºæ˜¯ç‰¹æ®Šçš„åˆ†ç»„ï¼Œå®ƒåˆ†ç±»ä¾æ®æ˜¯trueå’Œfalseï¼Œæ‰€ä»¥è¿”å›çš„ç»“æœæœ€å¤šå¯ä»¥åˆ†ä¸ºä¸¤ç»„\nList\u003cString\u003e stringList = Arrays.asList(\"Java 12\", \"Lambdas\", \"In\", \"Action\"); Map\u003cBoolean, List\u003cString\u003e\u003e collect = stringList.stream().collect(partitioningBy(String::isEmpty)); // ç»“æœä¸ºï¼š{false=[Java 12, Lambdas, In, Action], true=[]} List\u003cInteger\u003e integerList = Arrays.asList(1, 2, 3, 4, 5); Map\u003cBoolean, List\u003cInteger\u003e\u003e result = integerList.stream().collect(partitioningBy(i -\u003e i \u003c 3)); // ç»“æœä¸ºï¼š{false=[3, 4, 5], true=[1, 2]} æœ¬ç¯‡æ–‡ç« ä¸ºå­¦ä¹ ç¬”è®°ï¼Œæ„Ÿè°¢ä»¥ä¸‹æ–‡ç« çš„æ€»ç»“ https://blog.csdn.net/QiuHaoqian/article/details/120942134\n","wordCount":"3223","inLanguage":"zh-cn","datePublished":"2022-04-17T00:00:00Z","dateModified":"2022-04-17T00:00:00Z","author":{"@type":"Person","name":"Lesan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://lesanouo.github.io/blog/posts/code/165012480002/"},"publisher":{"@type":"Organization","name":"Lesan's Blog","logo":{"@type":"ImageObject","url":"https://lesanouo.github.io/blog/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lesanouo.github.io/blog/ accesskey=h title="Lesan's Blog (Alt + H)">Lesan's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://lesanouo.github.io/blog/archives title="ğŸ“š å½’æ¡£"><span>ğŸ“š å½’æ¡£</span></a></li><li><a href=https://lesanouo.github.io/blog/categories/ title="ğŸ—ƒï¸ åˆ†ç±»"><span>ğŸ—ƒï¸ åˆ†ç±»</span></a></li><li><a href=https://lesanouo.github.io/blog/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://lesanouo.github.io/blog/search/ title="ğŸ” æœç´¢"><span>ğŸ” æœç´¢</span></a></li><li><a href=https://lesanouo.github.io/blog/about/ title="ğŸ‘¨â€ğŸ’» å…³äºæˆ‘"><span>ğŸ‘¨â€ğŸ’» å…³äºæˆ‘</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lesanouo.github.io/blog/>Home</a>&nbsp;Â»&nbsp;<a href=https://lesanouo.github.io/blog/posts/>ğŸ“š åšå®¢</a></div><h1 class="post-title entry-hint-parent">Javaä¸­Streamå­¦ä¹ </h1><div class=post-meta><span title='2022-04-17 00:00:00 +0000 UTC'>2022-04-17</span>&nbsp;Â·&nbsp;7 min&nbsp;Â·&nbsp;Lesan</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#stream%e6%98%af%e4%bb%80%e4%b9%88 aria-label=streamæ˜¯ä»€ä¹ˆ>streamæ˜¯ä»€ä¹ˆ</a></li><li><a href=#%e7%94%9f%e6%88%90stream%e7%9a%84%e6%96%b9%e6%b3%95 aria-label=ç”Ÿæˆstreamçš„æ–¹æ³•>ç”Ÿæˆstreamçš„æ–¹æ³•</a></li><li><a href=#stream%e7%9a%84%e6%93%8d%e4%bd%9c%e7%b1%bb%e5%9e%8b aria-label=streamçš„æ“ä½œç±»å‹>streamçš„æ“ä½œç±»å‹</a></li><li><a href=#stream%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label=streamçš„ä½¿ç”¨>streamçš„ä½¿ç”¨</a><ul><li><a href=#%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9c aria-label=ä¸­é—´æ“ä½œ>ä¸­é—´æ“ä½œ</a><ul><li><a href=#filter-%e7%ad%9b%e9%80%89 aria-label="filter ç­›é€‰">filter ç­›é€‰</a></li><li><a href=#distinct-%e5%8e%bb%e9%87%8d aria-label="distinct å»é‡">distinct å»é‡</a></li><li><a href=#limit-%e8%bf%94%e5%9b%9e%e6%8c%87%e5%ae%9a%e6%b5%81%e4%b8%aa%e6%95%b0 aria-label="limit è¿”å›æŒ‡å®šæµä¸ªæ•°">limit è¿”å›æŒ‡å®šæµä¸ªæ•°</a></li><li><a href=#skip-%e8%b7%b3%e8%bf%87%e6%b5%81%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0 aria-label="skip è·³è¿‡æµä¸­çš„å…ƒç´ ">skip è·³è¿‡æµä¸­çš„å…ƒç´ </a></li><li><a href=#map-%e6%b5%81%e6%98%a0%e5%b0%84 aria-label="map æµæ˜ å°„">map æµæ˜ å°„</a></li><li><a href=#flatmap-%e6%b5%81%e8%bd%ac%e6%8d%a2 aria-label="flatMap æµè½¬æ¢">flatMap æµè½¬æ¢</a></li><li><a href=#allmatch-%e5%8c%b9%e9%85%8d%e6%89%80%e6%9c%89%e5%85%83%e7%b4%a0 aria-label="allMatch åŒ¹é…æ‰€æœ‰å…ƒç´ ">allMatch åŒ¹é…æ‰€æœ‰å…ƒç´ </a></li><li><a href=#anymatch%e5%8c%b9%e9%85%8d%e5%85%b6%e4%b8%ad%e4%b8%80%e4%b8%aa aria-label=anyMatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª>anyMatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª</a></li><li><a href=#nonematch%e5%85%a8%e9%83%a8%e4%b8%8d%e5%8c%b9%e9%85%8d aria-label=noneMatchå…¨éƒ¨ä¸åŒ¹é…>noneMatchå…¨éƒ¨ä¸åŒ¹é…</a></li></ul></li><li><a href=#%e7%bb%88%e7%ab%af%e6%93%8d%e4%bd%9c aria-label=ç»ˆç«¯æ“ä½œ>ç»ˆç«¯æ“ä½œ</a><ul><li><a href=#count-%e7%bb%9f%e8%ae%a1%e6%b5%81%e4%b8%ad%e5%85%83%e7%b4%a0%e4%b8%aa%e6%95%b0 aria-label="count ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•°">count ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•°</a></li><li><a href=#findfirst-%e6%9f%a5%e6%89%be%e7%ac%ac%e4%b8%80%e4%b8%aa aria-label="findFirst æŸ¥æ‰¾ç¬¬ä¸€ä¸ª">findFirst æŸ¥æ‰¾ç¬¬ä¸€ä¸ª</a></li><li><a href=#findany-%e9%9a%8f%e6%9c%ba%e6%9f%a5%e6%89%be%e4%b8%80%e4%b8%aa aria-label="findAny éšæœºæŸ¥æ‰¾ä¸€ä¸ª">findAny éšæœºæŸ¥æ‰¾ä¸€ä¸ª</a></li><li><a href=#reduce-%e5%b0%86%e6%b5%81%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0%e7%bb%84%e5%90%88 aria-label="reduce å°†æµä¸­çš„å…ƒç´ ç»„åˆ">reduce å°†æµä¸­çš„å…ƒç´ ç»„åˆ</a></li><li><a href=#minmax-%e8%8e%b7%e5%8f%96%e6%9c%80%e5%b0%8f%e6%9c%80%e5%a4%a7%e5%80%bc aria-label="min/max è·å–æœ€å°æœ€å¤§å€¼">min/max è·å–æœ€å°æœ€å¤§å€¼</a></li><li><a href=#sum--summingxxx--reduce-%e6%b1%82%e5%92%8c aria-label="sum / summingxxx / reduce æ±‚å’Œ">sum / summingxxx / reduce æ±‚å’Œ</a></li><li><a href=#averagingxxx-%e6%b1%82%e5%b9%b3%e5%9d%87%e5%80%bc aria-label="averagingxxx æ±‚å¹³å‡å€¼">averagingxxx æ±‚å¹³å‡å€¼</a></li><li><a href=#summarizingxxx-%e5%90%8c%e6%97%b6%e6%b1%82%e6%80%bb%e5%92%8c%e5%b9%b3%e5%9d%87%e5%80%bc%e6%9c%80%e5%a4%a7%e5%80%bc%e6%9c%80%e5%b0%8f%e5%80%bc aria-label="summarizingxxx åŒæ—¶æ±‚æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼">summarizingxxx åŒæ—¶æ±‚æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼</a></li><li><a href=#foreach-%e9%81%8d%e5%8e%86 aria-label="foreach éå†">foreach éå†</a></li><li><a href=#collect-%e8%bf%94%e5%9b%9e%e9%9b%86%e5%90%88 aria-label="collect è¿”å›é›†åˆ">collect è¿”å›é›†åˆ</a></li><li><a href=#joining-%e6%8b%bc%e6%8e%a5%e6%b5%81%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0 aria-label="joining æ‹¼æ¥æµä¸­çš„å…ƒç´ ">joining æ‹¼æ¥æµä¸­çš„å…ƒç´ </a></li><li><a href=#groupingby-%e5%88%86%e7%bb%84 aria-label="groupingBy åˆ†ç»„">groupingBy åˆ†ç»„</a></li><li><a href=#partitioningby-%e5%88%86%e5%8c%ba aria-label="partitioningBy åˆ†åŒº">partitioningBy åˆ†åŒº</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><p>æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•æˆ‘åœ¨å­¦ä¹ Javaçš„streamæµä¸­è®°å½•çš„ç¬”è®°</p><h2 id=streamæ˜¯ä»€ä¹ˆ>streamæ˜¯ä»€ä¹ˆ<a hidden class=anchor aria-hidden=true href=#streamæ˜¯ä»€ä¹ˆ>#</a></h2><p>æµæ˜¯ä»æ”¯æŒæ•°æ®å¤„ç†æ“ä½œçš„æºç”Ÿæˆçš„å…ƒç´ åºåˆ—ï¼Œæºå¯ä»¥æ˜¯æ•°ç»„ã€æ–‡ä»¶ã€é›†åˆã€å‡½æ•°ã€‚æµä¸æ˜¯é›†åˆå…ƒç´ ï¼Œå®ƒä¸æ˜¯æ•°æ®ç»“æ„å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œå®ƒçš„ä¸»è¦ç›®çš„åœ¨äºè®¡ç®—</p><h2 id=ç”Ÿæˆstreamçš„æ–¹æ³•>ç”Ÿæˆstreamçš„æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#ç”Ÿæˆstreamçš„æ–¹æ³•>#</a></h2><p>ç”Ÿæˆæµçš„æ–¹å¼ä¸»è¦æœ‰äº”ç§</p><ul><li><strong>é€šè¿‡é›†åˆç”Ÿæˆï¼Œåº”ç”¨ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></div><ul><li><strong>é€šè¿‡æ•°ç»„ç”Ÿæˆ</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>intArr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>IntStream</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>stream</span><span class=p>(</span><span class=n>intArr</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>é€šè¿‡Arrays.streamæ–¹æ³•ç”Ÿæˆæµï¼Œå¹¶ä¸”è¯¥æ–¹æ³•ç”Ÿæˆçš„æµæ˜¯æ•°å€¼æµã€å³IntStreamã€‘è€Œä¸æ˜¯ Streamã€‚è¡¥å……ä¸€ç‚¹ä½¿ç”¨æ•°å€¼æµå¯ä»¥é¿å…è®¡ç®—è¿‡ç¨‹ä¸­æ‹†ç®±è£…ç®±ï¼Œæé«˜æ€§èƒ½ã€‚Stream APIæä¾›äº†mapToIntã€mapToDoubleã€mapToLongä¸‰ç§æ–¹å¼å°†å¯¹è±¡æµã€å³Stream ã€‘è½¬æ¢æˆå¯¹åº”çš„æ•°å€¼æµï¼ŒåŒæ—¶æä¾›äº†boxedæ–¹æ³•å°†æ•°å€¼æµè½¬æ¢ä¸ºå¯¹è±¡æµ</p><ul><li><strong>é€šè¿‡å€¼ç”Ÿæˆ</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// é€šè¿‡Streamçš„ofæ–¹æ³•ç”Ÿæˆæµï¼Œé€šè¿‡Streamçš„emptyæ–¹æ³•å¯ä»¥ç”Ÿæˆä¸€ä¸ªç©ºæµ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Stream</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><ul><li><strong>é€šè¿‡æ–‡ä»¶ç”Ÿæˆ</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// é€šè¿‡Files.lineæ–¹æ³•å¾—åˆ°ä¸€ä¸ªæµï¼Œå¹¶ä¸”å¾—åˆ°çš„æ¯ä¸ªæµæ˜¯ç»™å®šæ–‡ä»¶ä¸­çš„ä¸€è¡Œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Files</span><span class=p>.</span><span class=na>lines</span><span class=p>(</span><span class=n>Paths</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=s>&#34;data.txt&#34;</span><span class=p>),</span><span class=w> </span><span class=n>Charset</span><span class=p>.</span><span class=na>defaultCharset</span><span class=p>());</span><span class=w>
</span></span></span></code></pre></div><ul><li><strong>é€šè¿‡å‡½æ•°ç”Ÿæˆ</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 1.iterator</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// terateæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºåˆå§‹åŒ–å€¼ï¼Œç¬¬äºŒä¸ªä¸ºè¿›è¡Œçš„å‡½æ•°æ“ä½œï¼Œå› ä¸ºiteratorç”Ÿæˆçš„æµä¸ºæ— é™æµï¼Œé€šè¿‡limitæ–¹æ³•å¯¹æµè¿›è¡Œäº†æˆªæ–­ï¼Œåªç”Ÿæˆ5ä¸ªå¶æ•°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Stream</span><span class=p>.</span><span class=na>iterate</span><span class=p>(</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>2</span><span class=p>).</span><span class=na>limit</span><span class=p>(</span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 2.generator</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// generateæ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œæ–¹æ³•å‚æ•°ç±»å‹ä¸ºSupplier ï¼Œç”±å®ƒä¸ºæµæä¾›å€¼ã€‚generateç”Ÿæˆçš„æµä¹Ÿæ˜¯æ— é™æµï¼Œå› æ­¤é€šè¿‡limitå¯¹æµè¿›è¡Œäº†æˆªæ–­</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Double</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Stream</span><span class=p>.</span><span class=na>generate</span><span class=p>(</span><span class=n>Math</span><span class=p>::</span><span class=n>random</span><span class=p>).</span><span class=na>limit</span><span class=p>(</span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h2 id=streamçš„æ“ä½œç±»å‹>streamçš„æ“ä½œç±»å‹<a hidden class=anchor aria-hidden=true href=#streamçš„æ“ä½œç±»å‹>#</a></h2><ol><li><strong>ä¸­é—´æ“ä½œ</strong></li></ol><p>ä¸€ä¸ªæµå¯ä»¥åé¢è·Ÿéšé›¶ä¸ªæˆ–å¤šä¸ªä¸­é—´æ“ä½œã€‚å…¶ç›®çš„ä¸»è¦æ˜¯æ‰“å¼€æµï¼Œåšå‡ºæŸç§ç¨‹åº¦çš„æ•°æ®æ˜ å°„/è¿‡æ»¤ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æµï¼Œäº¤ç»™ä¸‹ä¸€ä¸ªæ“ä½œä½¿ç”¨ã€‚è¿™ç±»æ“ä½œéƒ½æ˜¯æƒ°æ€§åŒ–çš„ï¼Œä»…ä»…è°ƒç”¨åˆ°è¿™ç±»æ–¹æ³•ï¼Œå¹¶æ²¡æœ‰çœŸæ­£å¼€å§‹æµçš„éå†ï¼ŒçœŸæ­£çš„éå†éœ€ç­‰åˆ°ç»ˆç«¯æ“ä½œæ—¶ï¼Œå¸¸è§çš„ä¸­é—´æ“ä½œæœ‰ä¸‹é¢å³å°†ä»‹ç»çš„ filterã€map ç­‰ã€‚</p><ol start=2><li><strong>ç»ˆç«¯æ“ä½œ</strong></li></ol><p>ä¸€ä¸ªæµæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå½“è¿™ä¸ªæ“ä½œæ‰§è¡Œåï¼Œæµå°±è¢«å…³é—­äº†ï¼Œæ— æ³•å†è¢«æ“ä½œï¼Œå› æ­¤ä¸€ä¸ªæµåªèƒ½è¢«éå†ä¸€æ¬¡ï¼Œè‹¥æƒ³åœ¨éå†éœ€è¦é€šè¿‡æºæ•°æ®åœ¨ç”Ÿæˆæµã€‚ç»ˆç«¯æ“ä½œçš„æ‰§è¡Œï¼Œæ‰ä¼šçœŸæ­£å¼€å§‹æµçš„éå†ã€‚å¦‚ä¸‹é¢å³å°†ä»‹ç»çš„ countã€collect ç­‰ã€‚</p><h2 id=streamçš„ä½¿ç”¨>streamçš„ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#streamçš„ä½¿ç”¨>#</a></h2><h3 id=ä¸­é—´æ“ä½œ>ä¸­é—´æ“ä½œ<a hidden class=anchor aria-hidden=true href=#ä¸­é—´æ“ä½œ>#</a></h3><h4 id=filter-ç­›é€‰>filter ç­›é€‰<a hidden class=anchor aria-hidden=true href=#filter-ç­›é€‰>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// é€šè¿‡ä½¿ç”¨filteræ–¹æ³•è¿›è¡Œæ¡ä»¶ç­›é€‰ï¼Œfilterçš„æ–¹æ³•å‚æ•°ä¸ºä¸€ä¸ªæ¡ä»¶ï¼ˆè¿‡æ»¤ä¿ç•™å‡½æ•°è¿”å›å€¼ä¸º true çš„å…ƒç´ ï¼‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>filter</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š4,5,6</span><span class=w>
</span></span></span></code></pre></div><h4 id=distinct-å»é‡><strong>distinct å»é‡</strong><a hidden class=anchor aria-hidden=true href=#distinct-å»é‡>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// é€šè¿‡distinctæ–¹æ³•å¿«é€Ÿå»é™¤é‡å¤çš„å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>distinct</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š1,2,3,4,5</span><span class=w>
</span></span></span></code></pre></div><h4 id=limit-è¿”å›æŒ‡å®šæµä¸ªæ•°>limit è¿”å›æŒ‡å®šæµä¸ªæ•°<a hidden class=anchor aria-hidden=true href=#limit-è¿”å›æŒ‡å®šæµä¸ªæ•°>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// é€šè¿‡limitæ–¹æ³•æŒ‡å®šè¿”å›æµçš„ä¸ªæ•°ï¼Œlimitçš„å‚æ•°å€¼å¿…é¡» &gt;=0ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>limit</span><span class=p>(</span><span class=n>3</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>ç»“æœä¸º</span><span class=err>ï¼š</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=n>1</span><span class=p>,</span><span class=n>2</span><span class=w>
</span></span></span></code></pre></div><h4 id=skip-è·³è¿‡æµä¸­çš„å…ƒç´ >skip è·³è¿‡æµä¸­çš„å…ƒç´ <a hidden class=anchor aria-hidden=true href=#skip-è·³è¿‡æµä¸­çš„å…ƒç´ >#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// é€šè¿‡skipæ–¹æ³•è·³è¿‡æµä¸­çš„å…ƒç´ ï¼Œskipçš„å‚æ•°å€¼å¿…é¡»&gt;=0ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºå¼‚å¸¸</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>stream</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>skip</span><span class=p>(</span><span class=n>2</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š 2,3,4,5</span><span class=w>
</span></span></span></code></pre></div><h4 id=map-æµæ˜ å°„>map æµæ˜ å°„<a hidden class=anchor aria-hidden=true href=#map-æµæ˜ å°„>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// æ‰€è°“æµæ˜ å°„å°±æ˜¯å°†æ¥å—çš„å…ƒç´ æ˜ å°„æˆå¦å¤–ä¸€ä¸ªå…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>collect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>Collectors</span><span class=p>.</span><span class=na>toList</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// é€šè¿‡mapæ–¹æ³•å¯ä»¥å®Œæˆæ˜ å°„ï¼Œè¯¥ä¾‹å­å®Œæˆä¸­ String -&gt; Integer çš„æ˜ å°„</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š[6, 7, 2, 6]</span><span class=w>
</span></span></span></code></pre></div><h4 id=flatmap-æµè½¬æ¢>flatMap æµè½¬æ¢<a hidden class=anchor aria-hidden=true href=#flatmap-æµè½¬æ¢>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// å°†ä¸€ä¸ªæµä¸­çš„æ¯ä¸ªå€¼éƒ½è½¬æ¢ä¸ºå¦ä¸€ä¸ªæµ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>wordList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>strList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>wordList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>w</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>w</span><span class=p>.</span><span class=na>split</span><span class=p>(</span><span class=s>&#34; &#34;</span><span class=p>))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>flatMap</span><span class=p>(</span><span class=n>Arrays</span><span class=p>::</span><span class=n>stream</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>distinct</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>Collectors</span><span class=p>.</span><span class=na>toList</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// map(w -&gt; w.split(&#34; &#34;)) çš„è¿”å›å€¼ä¸º Stream&lt;String[]&gt;ï¼Œæƒ³è·å– Streamï¼Œå¯ä»¥é€šè¿‡flatMapæ–¹æ³•å®Œæˆ Stream -&gt;Stream çš„è½¬æ¢</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š[Java, 8, Lambdas, In, Action]</span><span class=w>
</span></span></span></code></pre></div><h4 id=allmatch-åŒ¹é…æ‰€æœ‰å…ƒç´ >allMatch åŒ¹é…æ‰€æœ‰å…ƒç´ <a hidden class=anchor aria-hidden=true href=#allmatch-åŒ¹é…æ‰€æœ‰å…ƒç´ >#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// åŒ¹é…æµä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>allMatch</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;æ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;å¹¶éæ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼šå¹¶éæ‰€æœ‰å…ƒç´ å€¼éƒ½å¤§äº3</span><span class=w>
</span></span></span></code></pre></div><h4 id=anymatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª>anyMatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª<a hidden class=anchor aria-hidden=true href=#anymatchåŒ¹é…å…¶ä¸­ä¸€ä¸ª>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// åŒ¹é…æµä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>anyMatch</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;å­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ &#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;ä¸å­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ &#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼šå­˜åœ¨å€¼å¤§äº3çš„å…ƒç´ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ä¸Šè¿°ä»£ç ç­‰åŒäºï¼š</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>Integer</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>integerList</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;å­˜åœ¨å¤§äº3çš„å€¼&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h4 id=nonematchå…¨éƒ¨ä¸åŒ¹é…>noneMatchå…¨éƒ¨ä¸åŒ¹é…<a hidden class=anchor aria-hidden=true href=#nonematchå…¨éƒ¨ä¸åŒ¹é…>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>noneMatch</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;å€¼éƒ½å°äº3çš„å…ƒç´ &#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;å€¼ä¸éƒ½å°äº3çš„å…ƒç´ &#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h3 id=ç»ˆç«¯æ“ä½œ>ç»ˆç«¯æ“ä½œ<a hidden class=anchor aria-hidden=true href=#ç»ˆç«¯æ“ä½œ>#</a></h3><h4 id=count-ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•°>count ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•°<a hidden class=anchor aria-hidden=true href=#count-ç»Ÿè®¡æµä¸­å…ƒç´ ä¸ªæ•°>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Long</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>count</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š5</span><span class=w>
</span></span></span></code></pre></div><h4 id=findfirst-æŸ¥æ‰¾ç¬¬ä¸€ä¸ª>findFirst æŸ¥æ‰¾ç¬¬ä¸€ä¸ª<a hidden class=anchor aria-hidden=true href=#findfirst-æŸ¥æ‰¾ç¬¬ä¸€ä¸ª>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>filter</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>).</span><span class=na>findFirst</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>result</span><span class=p>.</span><span class=na>orElse</span><span class=p>(</span><span class=o>-</span><span class=n>1</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š4</span><span class=w>
</span></span></span></code></pre></div><h4 id=findany-éšæœºæŸ¥æ‰¾ä¸€ä¸ª>findAny éšæœºæŸ¥æ‰¾ä¸€ä¸ª<a hidden class=anchor aria-hidden=true href=#findany-éšæœºæŸ¥æ‰¾ä¸€ä¸ª>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>filter</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>3</span><span class=p>).</span><span class=na>findAny</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>result</span><span class=p>.</span><span class=na>orElse</span><span class=p>(</span><span class=o>-</span><span class=n>1</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// é€šè¿‡findAnyæ–¹æ³•æŸ¥æ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªå¤§äºä¸‰çš„å…ƒç´ å¹¶æ‰“å°ï¼Œå› ä¸ºå†…éƒ¨è¿›è¡Œä¼˜åŒ–çš„åŸå› ï¼Œå½“æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³å¤§äºä¸‰çš„å…ƒç´ æ—¶å°±ç»“æŸï¼Œè¯¥æ–¹æ³•ç»“æœå’ŒfindFirstæ–¹æ³•ç»“æœä¸€æ ·ã€‚æä¾›findAnyæ–¹æ³•æ˜¯ä¸ºäº†æ›´å¥½çš„åˆ©ç”¨å¹¶è¡Œæµï¼ŒfindFirstæ–¹æ³•åœ¨å¹¶è¡Œä¸Šé™åˆ¶æ›´å¤šã€æœ¬ç¯‡æ–‡ç« å°†ä¸ä»‹ç»å¹¶è¡Œæµã€‘</span><span class=w>
</span></span></span></code></pre></div><h4 id=reduce-å°†æµä¸­çš„å…ƒç´ ç»„åˆ>reduce å°†æµä¸­çš„å…ƒç´ ç»„åˆ<a hidden class=anchor aria-hidden=true href=#reduce-å°†æµä¸­çš„å…ƒç´ ç»„åˆ>#</a></h4><ol><li>ç”¨äºæ±‚å’Œ</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>reduce</span><span class=p>(</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=p>::</span><span class=n>sum</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š15</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// reduceæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªåˆå§‹å€¼è¿™é‡Œæ˜¯0ï¼Œä¸€ä¸ª BinaryOperatoraccumulator æ¥å°†ä¸¤ä¸ªå…ƒç´ ç»“åˆèµ·æ¥äº§ç”Ÿä¸€ä¸ªæ–°å€¼ï¼Œå¦å¤–reduceæ–¹æ³•è¿˜æœ‰ä¸€ä¸ªæ²¡æœ‰åˆå§‹åŒ–å€¼çš„é‡è½½æ–¹æ³•</span><span class=w>
</span></span></span></code></pre></div><ol start=2><li>ç”¨äºå–å¾—æœ€å¤§å’Œæœ€å°å€¼</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>reduce</span><span class=p>(</span><span class=n>Integer</span><span class=p>::</span><span class=n>min</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>reduce</span><span class=p>(</span><span class=n>Integer</span><span class=p>::</span><span class=n>max</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼šOptional[2] å’Œ Optional[7]</span><span class=w>
</span></span></span></code></pre></div><h4 id=minmax-è·å–æœ€å°æœ€å¤§å€¼>min/max è·å–æœ€å°æœ€å¤§å€¼<a hidden class=anchor aria-hidden=true href=#minmax-è·å–æœ€å°æœ€å¤§å€¼>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// å†™æ³•1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>min</span><span class=p>(</span><span class=n>Integer</span><span class=p>::</span><span class=n>compareTo</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>max</span><span class=p>(</span><span class=n>Integer</span><span class=p>::</span><span class=n>compareTo</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// å†™æ³•2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>OptionalInt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>mapToInt</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>min</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>OptionalInt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>mapToInt</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>max</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ä½¿ç”¨reduce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>reduce</span><span class=p>(</span><span class=n>Integer</span><span class=p>::</span><span class=n>min</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Optional</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>reduce</span><span class=p>(</span><span class=n>Integer</span><span class=p>::</span><span class=n>max</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h4 id=sum--summingxxx--reduce-æ±‚å’Œ>sum / summingxxx / reduce æ±‚å’Œ<a hidden class=anchor aria-hidden=true href=#sum--summingxxx--reduce-æ±‚å’Œ>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// æ–¹å¼1ï¼šsum</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>mapToInt</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>sum</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// æ–¹å¼2ï¼šsummingInt</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// å¦‚æœæ•°æ®ç±»å‹ä¸ºdoubleã€longï¼Œåˆ™é€šè¿‡summingDoubleã€summingLongæ–¹æ³•è¿›è¡Œæ±‚å’Œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>summingInt</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// æ–¹å¼3ï¼šreduce</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>reduce</span><span class=p>(</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=p>::</span><span class=n>sum</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>åœ¨ä¸Šé¢æ±‚å’Œã€æ±‚æœ€å¤§å€¼ã€æœ€å°å€¼çš„æ—¶å€™ï¼Œå¯¹äºç›¸åŒæ“ä½œæœ‰ä¸åŒçš„æ–¹æ³•å¯ä»¥é€‰æ‹©æ‰§è¡Œã€‚å¯ä»¥é€‰æ‹©collectã€reduceã€min/max/sumæ–¹æ³•ï¼Œæ¨èä½¿ç”¨minã€maxã€sumæ–¹æ³•ã€‚å› ä¸ºå®ƒæœ€ç®€æ´æ˜“è¯»ï¼ŒåŒæ—¶é€šè¿‡mapToIntå°†å¯¹è±¡æµè½¬æ¢ä¸ºæ•°å€¼æµï¼Œé¿å…äº†è£…ç®±å’Œæ‹†ç®±æ“ä½œ</p><h4 id=averagingxxx-æ±‚å¹³å‡å€¼>averagingxxx æ±‚å¹³å‡å€¼<a hidden class=anchor aria-hidden=true href=#averagingxxx-æ±‚å¹³å‡å€¼>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// averagingxxx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>double</span><span class=w> </span><span class=n>average</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>averagingInt</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>));</span><span class=w>
</span></span></span></code></pre></div><h4 id=summarizingxxx-åŒæ—¶æ±‚æ€»å’Œå¹³å‡å€¼æœ€å¤§å€¼æœ€å°å€¼>summarizingxxx åŒæ—¶æ±‚æ€»å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼<a hidden class=anchor aria-hidden=true href=#summarizingxxx-åŒæ—¶æ±‚æ€»å’Œå¹³å‡å€¼æœ€å¤§å€¼æœ€å°å€¼>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// å¦‚æœæ•°æ®ç±»å‹ä¸ºdoubleã€longï¼Œåˆ™é€šè¿‡summarizingDoubleã€summarizingLongæ–¹æ³•</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>IntSummaryStatistics</span><span class=w> </span><span class=n>intSummaryStatistics</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>summarizingInt</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>double</span><span class=w> </span><span class=n>average</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>intSummaryStatistics</span><span class=p>.</span><span class=na>getAverage</span><span class=p>();</span><span class=w> </span><span class=c1>// è·å–å¹³å‡å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>min</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>intSummaryStatistics</span><span class=p>.</span><span class=na>getMin</span><span class=p>();</span><span class=w>            </span><span class=c1>// è·å–æœ€å°å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>int</span><span class=w> </span><span class=n>max</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>intSummaryStatistics</span><span class=p>.</span><span class=na>getMax</span><span class=p>();</span><span class=w>            </span><span class=c1>// è·å–æœ€å¤§å€¼</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kt>long</span><span class=w> </span><span class=n>sum</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>intSummaryStatistics</span><span class=p>.</span><span class=na>getSum</span><span class=p>();</span><span class=w>           </span><span class=c1>// è·å–æ€»å’Œ</span><span class=w>
</span></span></span></code></pre></div><h4 id=foreach-éå†>foreach éå†<a hidden class=anchor aria-hidden=true href=#foreach-éå†>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>forEach</span><span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>::</span><span class=n>println</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><h4 id=collect-è¿”å›é›†åˆ>collect è¿”å›é›†åˆ<a hidden class=anchor aria-hidden=true href=#collect-è¿”å›é›†åˆ>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>intList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>toList</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>intSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>toSet</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç­‰ä»·</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>intList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>intSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>HashSet</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>String</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>stringList</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>intList</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>item</span><span class=p>.</span><span class=na>length</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>intSet</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>item</span><span class=p>.</span><span class=na>length</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>é€šè¿‡éå†å’Œè¿”å›é›†åˆçš„ä½¿ç”¨å‘ç°æµåªæ˜¯æŠŠåŸæ¥çš„å¤–éƒ¨è¿­ä»£æ”¾åˆ°äº†å†…éƒ¨è¿›è¡Œï¼Œè¿™ä¹Ÿæ˜¯æµçš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€ã€‚å†…éƒ¨è¿­ä»£å¯ä»¥å‡å°‘å¥½å¤šä»£ç é‡</p><h4 id=joining-æ‹¼æ¥æµä¸­çš„å…ƒç´ >joining æ‹¼æ¥æµä¸­çš„å…ƒç´ <a hidden class=anchor aria-hidden=true href=#joining-æ‹¼æ¥æµä¸­çš„å…ƒç´ >#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>map</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>toLowerCase</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>Collectors</span><span class=p>.</span><span class=na>joining</span><span class=p>(</span><span class=s>&#34;-&#34;</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼šjava 8-lambdas-in-action</span><span class=w>
</span></span></span></code></pre></div><h4 id=groupingby-åˆ†ç»„>groupingBy åˆ†ç»„<a hidden class=anchor aria-hidden=true href=#groupingby-åˆ†ç»„>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// åœ¨collectæ–¹æ³•ä¸­ä¼ å…¥groupingByè¿›è¡Œåˆ†ç»„ï¼Œå…¶ä¸­groupingByçš„æ–¹æ³•å‚æ•°ä¸ºåˆ†ç±»å‡½æ•°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 8&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Integer</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>collect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>collect</span><span class=p>(</span><span class=n>groupingBy</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š{2=[In], 6=[Java 8, Action], 7=[Lambdas]}</span><span class=w>
</span></span></span></code></pre></div><p>åµŒå¥—groupingByè¿›è¡Œå¤šçº§åˆ†ç±»</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 12&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Integer</span><span class=p>,</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Integer</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;&gt;</span><span class=w> </span><span class=n>collect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>groupingBy</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>groupingBy</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>hashCode</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š{2={2373=[In]}, 6={1955883606=[Action]}, 7={1611513196=[Lambdas], -155279169=[Java 12]}}</span><span class=w>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 12&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Integer</span><span class=p>,</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;&gt;</span><span class=w> </span><span class=n>collect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>.</span><span class=na>collect</span><span class=p>(</span><span class=n>groupingBy</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>String</span><span class=p>::</span><span class=n>length</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>groupingBy</span><span class=p>(</span><span class=n>item</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>item</span><span class=p>.</span><span class=na>length</span><span class=p>()</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=k>return</span><span class=w> </span><span class=s>&#34;level1&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>item</span><span class=p>.</span><span class=na>length</span><span class=p>()</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>6</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=k>return</span><span class=w> </span><span class=s>&#34;level2&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                        </span><span class=k>return</span><span class=w> </span><span class=s>&#34;level3&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>})</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š{2={level1=[In]}, 6={level2=[Action]}, 7={level3=[Java 12, Lambdas]}}</span><span class=w>
</span></span></span></code></pre></div><h4 id=partitioningby-åˆ†åŒº>partitioningBy åˆ†åŒº<a hidden class=anchor aria-hidden=true href=#partitioningby-åˆ†åŒº>#</a></h4><p>åˆ†åŒºæ˜¯ç‰¹æ®Šçš„åˆ†ç»„ï¼Œå®ƒåˆ†ç±»ä¾æ®æ˜¯trueå’Œfalseï¼Œæ‰€ä»¥è¿”å›çš„ç»“æœæœ€å¤šå¯ä»¥åˆ†ä¸ºä¸¤ç»„</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>stringList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=s>&#34;Java 12&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Lambdas&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;In&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Action&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Boolean</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>collect</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>stringList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>collect</span><span class=p>(</span><span class=n>partitioningBy</span><span class=p>(</span><span class=n>String</span><span class=p>::</span><span class=n>isEmpty</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š{false=[Java 12, Lambdas, In, Action], true=[]}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>integerList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>asList</span><span class=p>(</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Map</span><span class=o>&lt;</span><span class=n>Boolean</span><span class=p>,</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>integerList</span><span class=p>.</span><span class=na>stream</span><span class=p>().</span><span class=na>collect</span><span class=p>(</span><span class=n>partitioningBy</span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>3</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç»“æœä¸ºï¼š{false=[3, 4, 5], true=[1, 2]}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>æœ¬ç¯‡æ–‡ç« ä¸ºå­¦ä¹ ç¬”è®°ï¼Œæ„Ÿè°¢ä»¥ä¸‹æ–‡ç« çš„æ€»ç»“
<a href=https://blog.csdn.net/QiuHaoqian/article/details/120942134>https://blog.csdn.net/QiuHaoqian/article/details/120942134</a></p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://lesanouo.github.io/blog/tags/java/>Java</a></li></ul><nav class=paginav><a class=prev href=https://lesanouo.github.io/blog/posts/code/165193920001/><span class=title>Â«</span><br><span>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…é—®é¢˜</span>
</a><a class=next href=https://lesanouo.github.io/blog/posts/code/165012480001/><span class=title>Â»</span><br><span>åä¸ºæœºè¯•é¢˜ï¼šæŠ¥æ•°æ¸¸æˆ</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://lesanouo.github.io/blog/>Lesan's Blog</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>